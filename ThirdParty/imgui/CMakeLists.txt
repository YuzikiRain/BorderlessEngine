# dear imgui
project ( IMGUI LANGUAGES CXX )

find_package ( OpenGL REQUIRED )

set(PACKAGE_PATH ${CMAKE_SOURCE_DIR}/Packages)
set(PACKAGE_INCLUDE_PATH ${PACKAGE_PATH}/Include)
set(PACKAGE_LIBRARY_PATH ${PACKAGE_PATH}/Library)
set(IMGUI_PATH ${CMAKE_CURRENT_SOURCE_DIR})

# include path
list(APPEND PROJECT_INCLUDE ${PACKAGE_INCLUDE_PATH})
list(APPEND PROJECT_INCLUDE ${IMGUI_PATH})
list(APPEND PROJECT_INCLUDE ${IMGUI_PATH}/backends)

# opengl 这个是必须的！
list ( APPEND PROJECT_LIBRARIES ${OPENGL_LIBRARIES} )

# GLFW
set(GLFW_INCLUDE ${PACKAGE_INCLUDE_PATH}/GLFW)
set(GLFW_LIB ${PACKAGE_LIBRARY_PATH}/GLFW/glfw3dll.lib)
# list(APPEND PROJECT_INCLUDE ${GLFW_INCLUDE})
list(APPEND PROJECT_LIBRARIES ${GLFW_LIB})

file ( GLOB_RECURSE IMGUI_SOURCE ${IMGUI_PATH}/*.cpp)
file ( GLOB_RECURSE IMGUI_HEADER ${IMGUI_PATH}/*.h)
list(APPEND PROJECT_SOURCE ${IMGUI_SOURCE})
list(APPEND PROJECT_SOURCE ${IMGUI_HEADER})
# message(${PROJECT_SOURCE})
# message(${IMGUI_HEADER})

add_library( ${PROJECT_NAME} STATIC ${PROJECT_SOURCE} )

target_include_directories ( ${PROJECT_NAME}
PUBLIC 
        ${PROJECT_INCLUDE}
)

target_link_libraries(${PROJECT_NAME} PUBLIC ${PROJECT_LIBRARIES})